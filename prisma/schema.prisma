generator client {
provider = "prisma-client-js"
}


datasource db {
provider = "postgresql"
url = env("DATABASE_URL")
}


model User {
id Int @id @default(autoincrement())
username String @unique
passwordHash String
memberships Membership[]
createdAt DateTime @default(now())
updatedAt DateTime @updatedAt
}


model Board {
id Int @id @default(autoincrement())
title String
memberships Membership[]
createdAt DateTime @default(now())
updatedAt DateTime @updatedAt
}


model Membership {
id Int @id @default(autoincrement())
user User @relation(fields: [userId], references: [id])
userId Int
board Board @relation(fields: [boardId], references: [id])
boardId Int
role String @default("member")


@@unique([userId, boardId])
}